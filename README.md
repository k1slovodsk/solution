# solution
Решение тестового задания на appseccloudcamp
1. Расскажите, с какими задачами в направлении безопасной разработки вы сталкивались?
В целом у меня достаточно широкий круг компетенций не привязанный конкретно к безопасной разработке, в частности я занимаюсь работой с SIEM-системами (написание правил корреляции, консультирования коллег из отдела внедрения по проблемным вопросам функционирования, а также работа с SOC-ом организации в вопросах фолс-позитивов и корректировании правил корреляции. 
Иногда, ради интереса пишу маленькие скрипты для инженеров внедрения SIEM, которые ускоряют процесс установки и внедрения SIEM на местах.
Что касается конкретно направления AppSec, я осуществлял анализ кода Scada-систем, таких производителей как MasterScada и Аргус,  системы достаточно своеобразные, в основном написаны на C# и иногда выстроены исходя из не совсем очевидной логики, не поняв которую, очень легко нарушить работу некоторых серьезных агрегатов.
 
2. Моделирование угроз в целом мне делать приходилось в основном для крупных промышленных предприятий. В основном делали это вкупе, 
учитывая все угрозы и уязвимости связанные в том числе физического воздействия злоумышленника на систему. Плотно взаимодействовал с проектировщиками систем информационной безопасности. 

3.Если у вас был опыт поиска уязвимостей, расскажите, как это было?
У меня был опыт поиска и анализа уязвимостей, как инфраструктурных, так и уязвимостях кода. 
В целом, мне нравится оценивать системы в целом, по моему мнению нельзя ничего анализировать обособленно и без глубокого понимания некоторых процессов. 


4. Почему вы хотите участвовать в стажировке?
Очень хотел бы поработать побольше с анализом уязвимостей кода на разных языках и в разных системах. 
В данных момент, я немного "заперт" в промышленном аспекте, интересно было бы получить больше опыта с коммерческими приложениями и web-ом, 
особенно интересно для меня было бы поработать с облаками, так как считаю это направление самым перспективным. 

Фрагмент кода на Go.

Уязвимые элементы кода:

1. Передача пароля в открытом виде. 
Номер строки: 15.
Рекомендовал бы, как минимум использовать шифрование пароля при помощи пакета: crypto/subtle.

2. SQL инъекция.
Номер строки 27. 
Не используется проверка входных данных, что может в свою очередь привести в SQL инъекции. В идеале, необходимо использовать параметризированные запросы, 
однако, если есть ограничение по времени (и срочная необходимость выпуска в прод) возможно закрыть уязвимость с использованием WAF.
Возможно также использование регулярных выражений, однако параметризированные запросы по моему мнению более безопасны, 
регулярные выражения не всегда учитывают все возможные варианты и очень часто могут не сработать из-за малейшей синтаксической ошибки.
Главная опасность SQL инъекции в том, что она может привести к утечке данных, а в ряде случаев получение кредов администратора системы и получение полного доступа к системе. 

3. Использование GET запросов. 
Номер строки 27.
Полагаю целесообразным, если это укладывается в общую бизнес логику использовать POST, а не GET запросы. 
Они лучше подходят для передачи значимой информации, так как не сохраняются в кэше и передаются не в открытом виде. 
В противном случае, злоумышленник может перехватить передаваемые данные и получить доступ к чувствительной информации. 

4. Использование порта 8080
Номер строки 66. 
Если я правильно понимаю, предполагается использование http, что в свою очередь может привести к перехвату данных, так как этот порт в основном используется протоколом http, который не имеет шифрования. 

Пример № 2.1.

1. Отсутствие проверки входных данных
Номер строки 8.
Также возможно использование SQL инъекций. 
Может привести к утечке данных (при использовании БД)

2. Включенный режим debug.
Номер строки: 14.
Может привести к утечке чувствительной информации. 
Скорее всего был включен по умолчанию, не работал с этим фреймворком, в django, например включен по умолчанию, полагаю, что здесь аналогичная ситуация.


3. Использование порта 5000.
В целом не является уязвимостью, но рекомендовал бы на этапе внедрения добавить правила файрвола на данный порт, во избежании расширения поверхности атаки. 
В целом, смена порта ни к чему не приведет, так как обычно сканируют весь диапазон, грамотно 

Пример № 2.2.

1. Отсутствует проверка входных данных.
Номер стройки 10.
Злоумышленник может ввести вместо hostname абсолютно лобые данные, что может привести к прочтению, удалению и изменению файлов на сервере.
Также отсутствует ограничение по количеству заказов.



3. Моделирование угроз. 

Расскажите, какие потенциальные проблемы безопасности существуют для данного сервиса?
Доступ к бэкенду осуществляется до аутентификации, что может привести к использованию уязвимостей направленных на получение информации из базы данных (SQL-инъекции), 
также использование специально сконфигурированного запроса может привести к получению доступа к чуствительной информации.
Также в схеме не отражено, в каком виде передаются данные до аутентификации, зашифрованы ли они. 
Расскажите, к каким последствиям может привести эксплуатация проблем, найденных вами?
При передаче незашифрованных аутентификационных данных возможно утечка данных об учетных записей, также возможны применения SQL-инъекций. 

Расскажите, какие способы исправления уязвимостей и смягчения рисков вы можете предложить по отмеченным вами проблемам безопасности?

Напишите список уточняющих вопросов, которые вы бы задали разработчикам данного сервиса?
Каким образом осуществляется аутентификация пользователя, используется ли двухфакторная аутентификация?
Каким образом осуществляется аутентфикация в Telegram? Возможно передаются чувствительные данные посредством открытых каналов связи.







